# NoSmtp

For when you want to send mail but not really.

## Introduction

NoSmtp is a PHP script that intercepts mail generated by PHP and writes it to
a file. When the builtin `mail()` function is called, the contents are sent to
the command specified by the `sendmail_path` directive in the `php.ini` file
(which by default is `sendmail -t -i`). The potential issue here is that for
sendmail to work an SMTP server must be available, and that is potentially
overkill for dev and test purposes.

## Installation

For now, you must clone the repo and install with
[composer](http://getcomposer.org/). Other options will be available in the
future.

    $ git clone https://github.com/jonyamo/nosmtp
    $ cd nosmtp
    $ php composer.phar install

## Usage

Simply set the `sendmail_path` directive in your `php.ini` file to the full
path of the NoSmtp executable. Then, next time you call `mail()` a `.eml` file
will be saved in `/tmp`, which can then be opened and read with your email
client of choice.

## Configuration

    --mailbox DIR   directory where the file will be saved. [default: /tmp]
    --ext     EXT   extension to be used for the file. [default: eml]
    --filter  RGXP  address filter. will only save emails sent to recipients
                    matching the given pattern. [default: .*]

## Notes

* This has only been tested in a GNU/Linux environment.
* This has only been tested with PHP but could potentially work with other
  languages.
